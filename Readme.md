 **Prompt à¸ªà¸³à¸«à¸£à¸±à¸š DeepSeek AI à¸«à¸£à¸·à¸­ Developer** à¸—à¸µà¹ˆà¸­à¸­à¸à¹à¸šà¸šà¸¡à¸²à¹€à¸‰à¸à¸²à¸°à¹€à¸à¸·à¹ˆà¸­à¸ªà¸£à¹‰à¸²à¸‡ **EA à¸£à¸°à¸šà¸šà¹€à¸—à¸£à¸”à¸—à¸µà¹ˆà¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¹à¸à¹‰** à¹‚à¸”à¸¢à¹€à¸™à¹‰à¸™à¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¹€à¸›à¹‡à¸™à¸—à¸µà¸¡ à¸›à¸´à¸”à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹à¸šà¸š array (set/pair) à¹à¸¥à¸°à¸¡à¸µà¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸à¸³à¸à¸£à¹‰à¸² (Orphan) à¸­à¸¢à¹ˆà¸²à¸‡à¸ªà¸¡à¸šà¸¹à¸£à¸“à¹Œ â€” **à¹„à¸¡à¹ˆà¸«à¸¢à¸¸à¸”à¹€à¸—à¸£à¸”à¸ˆà¸™à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸Šà¸™à¸°** âœ…

---

## ğŸ¯ **Prompt: à¸ªà¸£à¹‰à¸²à¸‡ EA à¸£à¸°à¸šà¸š Recovery à¹à¸šà¸šà¹„à¸¡à¹ˆà¸¢à¸­à¸¡à¹à¸à¹‰ (Never Give Up Mode)**

> **à¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢**: à¸£à¸°à¸šà¸šà¸ˆà¸° **à¹„à¸¡à¹ˆà¸«à¸¢à¸¸à¸”à¹€à¸—à¸£à¸”à¹à¸¡à¹‰à¸•à¸´à¸”à¸¥à¸š** à¹à¸•à¹ˆà¸ˆà¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™à¹‚à¸«à¸¡à¸” Recovery à¸—à¸±à¸™à¸—à¸µ à¹à¸¥à¸°à¸—à¸¸à¸à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸ˆà¸°à¸—à¸³à¸‡à¸²à¸™à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™à¹€à¸›à¹‡à¸™à¸—à¸µà¸¡à¹€à¸à¸·à¹ˆà¸­ **à¸šà¸£à¸£à¸¥à¸¸à¹€à¸›à¹‰à¸²à¸à¸³à¹„à¸£ (Global Target)** à¸­à¸¢à¹ˆà¸²à¸‡à¸¡à¸µà¸›à¸£à¸°à¸ªà¸´à¸—à¸˜à¸´à¸ à¸²à¸ à¸”à¹‰à¸§à¸¢à¸£à¸°à¸šà¸šà¸ˆà¸±à¸”à¸à¸²à¸£à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹à¸šà¸š array, à¸›à¸´à¸”à¸Šà¸¸à¸”/à¸„à¸¹à¹ˆà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´ à¹à¸¥à¸°à¸”à¸¹à¹à¸¥à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸à¸³à¸à¸£à¹‰à¸²à¸—à¸¸à¸à¸Šà¸´à¹‰à¸™

---

### ğŸ”§ **à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸«à¸¥à¸±à¸ (Core Architecture)**

#### 1. **à¸£à¸°à¸šà¸š Recovery à¹à¸šà¸š Set-Based (Array)**
- à¹ƒà¸Šà¹‰ `struct RecoverySet { int setNumber; ulong mainTicket; ulong subTickets[20]; ... }`
- à¸—à¸¸à¸à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¹€à¸›à¸´à¸”à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸«à¸¥à¸±à¸ â†’ à¸ªà¸£à¹‰à¸²à¸‡ `RecoverySet` à¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´
- à¹€à¸¡à¸·à¹ˆà¸­à¹€à¸à¸´à¸”à¸à¸²à¸£à¸‚à¸²à¸”à¸—à¸¸à¸™ â†’ à¹€à¸›à¸´à¸” Recovery à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ (subTickets) à¹à¸¥à¹‰à¸§à¹€à¸à¸´à¹ˆà¸¡à¹€à¸‚à¹‰à¸² `subTickets[]`
- à¸›à¸´à¸”à¸—à¸±à¹‰à¸‡ Set à¸—à¸±à¸™à¸—à¸µà¹€à¸¡à¸·à¹ˆà¸­:
  - à¸à¸³à¹„à¸£à¸£à¸§à¸¡ â‰¥ à¹€à¸›à¹‰à¸² (à¸«à¸£à¸·à¸­à¸–à¸¶à¸‡ `MinSetTP`)
  - Main Ticket à¸«à¸²à¸¢ â†’ à¸ªà¹ˆà¸‡à¸•à¹ˆà¸­à¹ƒà¸«à¹‰ **Orphan Job System**

#### 2. **Orphan Job System (à¸”à¸¹à¹à¸¥à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸à¸³à¸à¸£à¹‰à¸²)**
- à¹€à¸¡à¸·à¹ˆà¸­ **Main Ticket à¸«à¸²à¸¢** â†’ à¸£à¸°à¸šà¸šà¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸š â†’ à¸ªà¸£à¹‰à¸²à¸‡ `OrphanJob`
- à¹ƒà¸Šà¹‰ `struct OrphanJob { int jobId; ulong mainTicket; ulong orphanTickets[20]; ... }`
- Orphan Job à¸ˆà¸°à¸”à¸¹à¹à¸¥ recovery tickets à¸ˆà¸™à¸ˆà¸š à¹„à¸¡à¹ˆà¸›à¸¥à¹ˆà¸­à¸¢à¹ƒà¸«à¹‰à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹ƒà¸”à¸¥à¸­à¸¢à¸™à¸§à¸¥
- à¸›à¸´à¸” Orphan à¸—à¸±à¹‰à¸‡à¸Šà¸¸à¸”à¹€à¸¡à¸·à¹ˆà¸­:
  - à¸à¸³à¹„à¸£ â‰¥ `OrphanCloseProfit`
  - à¸«à¸£à¸·à¸­à¸„à¸£à¸šà¸ˆà¸³à¸™à¸§à¸™ recovery steps à¸ªà¸¹à¸‡à¸ªà¸¸à¸”

#### 3. **Cooperative Team System**
- à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸—à¸¸à¸à¸•à¸±à¸§ (Scalp1, Scalp2, Trend, Breakout) à¹€à¸›à¹‡à¸™ â€œà¸—à¸µà¸¡à¸‡à¸²à¸™â€
- à¸¡à¸µà¹€à¸›à¹‰à¸²à¸«à¸¡à¸²à¸¢à¸¢à¹ˆà¸­à¸¢à¸•à¸²à¸¡ `StrategyWeight_X`
- à¹€à¸¡à¸·à¹ˆà¸­à¸à¸­à¸£à¹Œà¸•à¸•à¸´à¸”à¸¥à¸š â†’ à¸—à¸¸à¸à¸—à¸µà¸¡à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™à¹‚à¸«à¸¡à¸” **Recovery Support**
- à¸—à¸µà¸¡à¸—à¸µà¹ˆà¸—à¸³à¸à¸³à¹„à¸£à¹„à¸”à¹‰à¸”à¸µà¸—à¸µà¹ˆà¸ªà¸¸à¸”à¸ˆà¸°à¹€à¸›à¹‡à¸™ **à¸œà¸¹à¹‰à¸™à¸³ Recovery**, à¸—à¸µà¸¡à¸­à¸·à¹ˆà¸™à¸ªà¸™à¸±à¸šà¸ªà¸™à¸¸à¸™

#### 4. **Smart Portfolio Close**
- à¹€à¸¡à¸·à¹ˆà¸­ `Total Profit â‰¥ SmartCloseProfitTarget` **à¹à¸¥à¸°** `Positions â‰¥ SmartCloseMinPositions`
- â†’ à¸›à¸´à¸” **à¸—à¸¸à¸à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸—à¸±à¸™à¸—à¸µ** â†’ à¸£à¸µà¹€à¸‹à¹‡à¸•à¸£à¸°à¸šà¸š â†’ à¹€à¸£à¸´à¹ˆà¸¡à¸ à¸²à¸£à¸à¸´à¸ˆà¹ƒà¸«à¸¡à¹ˆ
- **à¹„à¸¡à¹ˆà¸›à¸´à¸”à¸–à¹‰à¸²à¸•à¸´à¸”à¸¥à¸š** â†’ à¸£à¸°à¸šà¸šà¸ˆà¸°à¸ªà¸¹à¹‰à¸•à¹ˆà¸­à¸ˆà¸™à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²

---

### âš™ï¸ **à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œà¸ªà¸³à¸„à¸±à¸à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸¡à¸µ**

| à¸Ÿà¸µà¹€à¸ˆà¸­à¸£à¹Œ | à¸£à¸²à¸¢à¸¥à¸°à¹€à¸­à¸µà¸¢à¸” |
|--------|------------|
| **Recovery Set** | à¸›à¸´à¸”à¹€à¸›à¹‡à¸™à¸Šà¸¸à¸”à¸”à¹‰à¸§à¸¢ array, à¸„à¸³à¸™à¸§à¸“ TP à¹„à¸”à¸™à¸²à¸¡à¸´à¸ |
| **Orphan Management** | à¸•à¸£à¸§à¸ˆà¸ˆà¸±à¸šà¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸—à¸µà¹ˆ Main à¸«à¸²à¸¢ â†’ à¸ªà¸£à¹‰à¸²à¸‡ Job â†’ à¸ˆà¸±à¸”à¸à¸²à¸£à¸ˆà¸™à¸ˆà¸š |
| **Global Close** | à¸›à¸´à¸”à¸—à¸¸à¸à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸² Global Target |
| **Team Cooperation** | à¸—à¸¸à¸à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸—à¸³à¸‡à¸²à¸™à¸£à¹ˆà¸§à¸¡à¸à¸±à¸™ à¸›à¸£à¸±à¸šà¸šà¸—à¸šà¸²à¸—à¸•à¸²à¸¡à¸ªà¸–à¸²à¸™à¸à¸²à¸£à¸“à¹Œ |
| **Market Regime Awareness** | à¸›à¸£à¸±à¸šà¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸•à¸²à¸¡à¸ªà¸ à¸²à¸à¸•à¸¥à¸²à¸” (Trending, Ranging, Breakout, Volatile) |
| **Safety with Persistence** | à¸¡à¸µ kill switch à¹à¸•à¹ˆ **à¹„à¸¡à¹ˆà¸«à¸¢à¸¸à¸”à¹€à¸—à¸£à¸”** â€” à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹€à¸›à¹‡à¸™à¹‚à¸«à¸¡à¸”à¸›à¹‰à¸­à¸‡à¸à¸±à¸™à¹à¸—à¸™ |

---

### ğŸ“Œ **à¸‚à¹‰à¸­à¸à¸³à¸«à¸™à¸”à¸—à¸²à¸‡à¹€à¸—à¸„à¸™à¸´à¸„**

- **à¸ à¸²à¸©à¸²**: MQL5 (MetaTrader 5)
- **Magic Number**: à¹à¸¢à¸à¸Šà¸±à¸”à¹€à¸ˆà¸™à¸—à¸¸à¸à¸£à¸°à¸šà¸š (`MAGIC_SCALP1`, `MAGIC_RECOVERY`, `MAGIC_ORPHAN` à¸¯à¸¥à¸¯)
- **Comment**: à¸¡à¸µà¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡ à¹€à¸Šà¹ˆà¸™ `"Recovery-123456-1"` à¹€à¸à¸·à¹ˆà¸­à¸£à¸°à¸šà¸š Orphan à¸”à¸¶à¸‡ Main Ticket à¹„à¸”à¹‰
- **Auto Lot Scaling**: à¸›à¸£à¸±à¸šà¸•à¸²à¸¡ balance + drawdown (à¸ªà¸¹à¸‡à¸ªà¸¸à¸” `MaxLot = 0.5`)
- **à¸£à¸­à¸‡à¸£à¸±à¸š Gold (XAU/USD)** à¹€à¸›à¹‡à¸™à¸«à¸¥à¸±à¸
- **à¹„à¸¡à¹ˆà¸¡à¸µà¸à¸²à¸£à¹ƒà¸Šà¹‰ Stop Loss à¸•à¸²à¸¢à¸•à¸±à¸§** à¹ƒà¸™à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸«à¸¥à¸±à¸ â€” à¹ƒà¸Šà¹‰à¸à¸²à¸£à¸£à¸­ rebound à¸«à¸£à¸·à¸­à¸›à¸´à¸”à¸”à¹‰à¸§à¸¢à¸£à¸°à¸šà¸š Recovery

---

### ğŸ§ª **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡à¸à¸²à¸£à¸²à¸¡à¸´à¹€à¸•à¸­à¸£à¹Œà¸«à¸¥à¸±à¸**

```mql5
// --- Recovery & Global Target ---
input double SmartCloseProfitTarget = 50.0;     // à¸›à¸´à¸”à¹€à¸¡à¸·à¹ˆà¸­à¸–à¸¶à¸‡à¹€à¸›à¹‰à¸²à¸™à¸µà¹‰
input int    SmartCloseMinPositions = 3;        // à¸•à¹‰à¸­à¸‡à¸¡à¸µà¸­à¸­à¹€à¸”à¸­à¸£à¹Œ â‰¥ 3 à¸•à¸±à¸§
input double Recovery_StartLevel    = -200.0;   // à¹€à¸£à¸´à¹ˆà¸¡ Recovery à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸—à¸¸à¸™à¸–à¸¶à¸‡
input double Recovery_StopLevel     = -50.0;    // à¸à¸¥à¸±à¸šà¸ªà¸¹à¹ˆà¹‚à¸«à¸¡à¸”à¸›à¸à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸—à¸¸à¸™à¸¥à¸”à¸¥à¸‡

// --- Orphan System ---
input bool   EnableUniversalOrphan = true;
input double OrphanCloseProfit = 5.0;

// --- Team Weights ---
input double StrategyWeight_Scalp1   = 0.3;
input double StrategyWeight_Scalp2   = 0.25;
input double StrategyWeight_Trend    = 0.15;
// ... (à¸­à¸·à¹ˆà¸™à¹† à¸•à¸²à¸¡à¹„à¸Ÿà¸¥à¹Œ)
```

---

### ğŸš« **à¸«à¹‰à¸²à¸¡à¸—à¸³**
- à¸«à¹‰à¸²à¸¡à¸›à¸´à¸”à¸£à¸°à¸šà¸šà¸­à¸±à¸•à¹‚à¸™à¸¡à¸±à¸•à¸´à¹€à¸¡à¸·à¹ˆà¸­à¸‚à¸²à¸”à¸—à¸¸à¸™ (à¹€à¸§à¹‰à¸™à¹à¸•à¹ˆà¹€à¸à¸´à¸™ Safety Limit)
- à¸«à¹‰à¸²à¸¡à¸›à¸¥à¹ˆà¸­à¸¢à¸­à¸­à¹€à¸”à¸­à¸£à¹Œ â€œà¸à¸³à¸à¸£à¹‰à¸²â€ à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸¡à¸µà¸£à¸°à¸šà¸šà¸”à¸¹à¹à¸¥
- à¸«à¹‰à¸²à¸¡à¹€à¸›à¸´à¸”à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¹à¸šà¸šà¸ªà¸¸à¹ˆà¸¡à¹‚à¸”à¸¢à¹„à¸¡à¹ˆà¸œà¹ˆà¸²à¸™à¸£à¸°à¸šà¸š Cooperation

---

### âœ… **à¸«à¸¥à¸±à¸à¸à¸²à¸£à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢**
> **â€œà¸£à¸°à¸šà¸šà¸ˆà¸°à¹„à¸¡à¹ˆà¸«à¸¢à¸¸à¸”à¹€à¸—à¸£à¸” à¹à¸•à¹ˆà¸ˆà¸°à¹€à¸›à¸¥à¸µà¹ˆà¸¢à¸™à¹à¸œà¸™ à¸«à¸²à¹‚à¸­à¸à¸²à¸ª à¹à¸¥à¸°à¸ªà¸¹à¹‰à¸•à¹ˆà¸­à¸ˆà¸™à¸à¸§à¹ˆà¸²à¸ˆà¸°à¸Šà¸™à¸°â€**  
> à¸—à¸¸à¸à¸à¸¥à¸¢à¸¸à¸—à¸˜à¹Œà¸„à¸·à¸­à¸—à¸µà¸¡à¸‡à¸²à¸™ â€” à¸—à¸¸à¸à¸­à¸­à¹€à¸”à¸­à¸£à¹Œà¸„à¸·à¸­à¸ªà¸¡à¸²à¸Šà¸´à¸à¸—à¸µà¸¡ â€” à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸„à¸£à¸–à¸¹à¸à¸—à¸´à¹‰à¸‡à¹„à¸§à¹‰à¸‚à¹‰à¸²à¸‡à¸«à¸¥à¸±à¸‡

---


NeverGiveUpEA_Pro/
â”œâ”€â”€ Include/
â”‚   â”œâ”€â”€ Core/
â”‚   â”‚   â”œâ”€â”€ RecoverySet.mqh
â”‚   â”‚   â”œâ”€â”€ OrphanJob.mqh
â”‚   â”‚   â”œâ”€â”€ TeamManager.mqh
â”‚   â”‚   â”œâ”€â”€ PortfolioManager.mqh
â”‚   â”‚   â”œâ”€â”€ CommonEnums.mqh          
â”‚   â”‚   â”œâ”€â”€ MarketRegime.mqh
â”‚   â”‚   â””â”€â”€ **ProfitUniversal.mqh**     
â”‚   â”œâ”€â”€ Strategies/
â”‚   â”‚   â”œâ”€â”€ BaseStrategy.mqh
â”‚   â”‚   â”œâ”€â”€ Scalp1.mqh à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ
â”‚   â”‚   â”œâ”€â”€ Scalp2.mqh à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ
â”‚   â”‚   â”œâ”€â”€ TrendEnhanced.mqh 
â”‚   â”‚   â””â”€â”€ Breakout.mqh 
â”‚   â””â”€â”€ **Managers/**
â”‚       â”œâ”€â”€ **PositionManager.mqh**     
â”‚       â””â”€â”€ **RiskManager.mqh**         
â”œâ”€â”€ NeverGiveUpEA_Pro.mq5
â””â”€â”€ NeverGiveUpEA_Pro.set

